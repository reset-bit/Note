[toc]

# 操作系统

## 进程与线程

### 进程

为了使参与并发执行的每个程序（含数据）都能独立的运行，在操作系统中必须为之配置一个专门的数据结构，称为进程控制块PCB（主要包括：进程标识符、处理机状态、进程调度信息、进程控制信息）。**由程序段、相关数据段、PCB三部分构成了进程。**

进程状态及切换：

- 创建-》就绪：许可；
- 就绪-》执行：进程调度；执行-》就绪：时间片完；
- 执行-》阻塞：IO请求；
- 阻塞-》就绪：IO完成
- 执行-》终止：释放

关于挂起：

- 阻塞挂起：调入外存并等待某事件出现
- 就绪挂起：调入外存，只要进入内存即可运行

### 线程

引入线程的OS，将线程作为调度和分派的基本单位，将进程作为系统资源分配的基本单位（进程=线程+资源）。

同一进程中的线程之间可以并发执行，且**共享相同的内存地址空间和资源**。线程**本身并不拥有系统资源**，仅有一点必不可少的、能保证独立运行的资源。缺点是某一线程崩溃，所属进程的全部线程崩溃。

## 处理机调度与死锁

### 作业调度

#### 先来先服务FCFS

既可用于作业调度，也可用于进程调度。系统**按照作业到达的先后次序**来进行作业调度，优先考虑在系统中等待时间最长的作业。

利于长作业；适用批处理系统

#### 短作业优先SJF

既可用于作业调度，也可用于进程调度。以**作业长短**来计算优先级，作业越短，优先级越高。作业长短是以作业要求的系统运行时间来衡量的。

利于短作业；必须预知作业运行时间

#### 优先级调度算法

既可用于作业调度，也可用于进程调度。由**外部赋予作业相应优先级**进行调度。

#### 高响应比优先算法

为每个作业动态引入优先级，**$优先权=(等待时间+要求服务时间)/响应时间$**。

有利于短作业；需要额外计算响应比

### 实时调度

#### 最早截止时间算法EDF

既可用于抢占式调度方式，也可用于非抢占式调度方式。根据任务的**截止时间**确定任务优先级，截止时间越早优先级越高。

#### 最低松弛度优先算法LLF

主要用于可抢占调度方式中。根据**任务紧急（或松弛）程度**确定任务优先级，任务紧急程度越高优先级越高。**$松弛度=必须完成时间-本身运行时间-当前时间$**

### 死锁

如果一组进程中的每一个进程都在等待**仅由该组进程中的其他进程**才能引发的事件，那么该组进程是死锁的。

死锁发生条件：**互斥**（资源排他性使用）；**请求和保持**（至少占用了一个资源，但又提出了新的资源请求）；**不可抢占**（已获得的资源在未使用完之前不能被抢占）；**循环等待**（系统中存在进程-资源循环链）

解决方法：

- 破坏请求和保持：所有进程在运行之前，一次性申请在整个运行过程中所需要的全部资源；【或】进程初期申请必要资源，在运行过程中逐步释放已用毕的全部资源，之后再请求新的所需资源
- 破坏不可抢占：一个已经保持了不可抢占资源的进程，提出新的资源请求不能满足时，必须释放已经保持的所有资源
- 破坏循环等待：为资源编号，进程只能按照序号由小到大进行资源申请。若已拥有大序号资源想要请求小序号资源，则必须释放具有相同或更高序号的资源
- 使用银行家算法，令系统总在安全状态（避免发生死锁）
- 抢占资源分配给死锁进程，来解除死锁状态；【或】一次性/逐步终止进程

## 存储器

### 分页与分段



### 页面调度算法



## 磁盘存储器

